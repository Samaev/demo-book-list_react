(this["webpackJsonpdemo-book-list"]=this["webpackJsonpdemo-book-list"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(32),o=n.n(r),s=(n(41),n(42),n(15)),i=n.n(s),l=n(20),j=n(10),d=n(12),b=n.n(d),h=n(33),u=n(81),O=n(74),x=n(80),m=n(75),p=n(76),f=n(13),k=n(1),v=["Action","Adventure","Comedy","Drama","Fantasy"];v.unshift("");var g=v.map((function(e){return Object(k.jsx)("option",{children:e},e)}));function y(){return g}function S(e){var t=e.match,n=Object(a.useState)(""),c=Object(j.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(""),d=Object(j.a)(s,2),v=d[0],g=d[1],S=Object(a.useState)("Drama"),w=Object(j.a)(S,2),B=w[0],C=w[1],I=Object(a.useState)(""),N=Object(j.a)(I,2),E=N[0],A=N[1],_=Object(a.useState)(!1),D=Object(j.a)(_,2),F=D[0],L=D[1],P=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,b.a.get("http://localhost:3010/books/".concat(t.params.id)).then((function(e){o(e.data.book_name),g(e.data.author_name),C(e.data.category),A(e.data.ISBN)})).catch((function(e){return alert(e)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){t.params.id&&P()}),[]);function z(){return(z=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=4;break}b.a.patch("http://localhost:3010/books/".concat(t.params.id),{id:t.params.id,book_name:r,author_name:v,category:B,ISBN:E}).then((function(){return alert("Successfull update")})).catch((function(e){return alert(e)})),e.next=11;break;case 4:return e.next=6,b.a.get("http://localhost:3010/books").then((function(e){return e.data[e.data.length-1].id})).catch((function(e){return alert(e)}));case 6:n=e.sent,n+=1,console.log(n),b.a.post("http://localhost:3010/books",{id:n,book_name:r,author_name:v,category:B,ISBN:E}).then((function(e){return alert("Book successfully added with index: ".concat(n))})).catch((function(e){return alert("something went wrong: "+e)})),window.location.replace("/");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=Object(a.useState)(!1),q=Object(j.a)(G,2),V=q[0],J=q[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{xl:2,sm:2,md:2,children:Object(k.jsx)(f.b,{to:"/",children:Object(k.jsx)(u.a,{variant:"outline-primary",size:"sm",block:!0,children:"< Dashboard"})})}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)("h1",{children:F?"Edit book":"Add new book"}),Object(k.jsxs)(h.a,{xl:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(h.a,{xl:9,children:Object(k.jsxs)(x.a,{noValidate:!0,validated:V,onSubmit:function(e){var t=e.currentTarget;e.preventDefault(),!1===t.checkValidity()?e.stopPropagation():(!function(){z.apply(this,arguments)}(),o(""),g(""),C(""),A(""),J(!0)),J(!0)},children:[Object(k.jsxs)(x.a.Group,{as:m.a,controlId:"title",children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"Book title"}),Object(k.jsxs)(h.a,{sm:10,children:[Object(k.jsx)(x.a.Control,{required:!0,type:"text",value:r,onChange:function(e){o(e.target.value)},placeholder:"Enter here book title"}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter book title."})]})]}),Object(k.jsxs)(x.a.Group,{as:m.a,controlId:"aName",children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"Author name"}),Object(k.jsxs)(h.a,{sm:10,children:[Object(k.jsx)(x.a.Control,{required:!0,type:"text",value:v,onChange:function(e){return g(e.target.value)},placeholder:"Enter here author name"}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter author name."})]})]}),Object(k.jsxs)(x.a.Group,{as:m.a,children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"Category"}),Object(k.jsx)(h.a,{sm:10,children:Object(k.jsxs)(x.a.Control,{htmlSize:3,custom:!0,required:!0,as:"select",onChange:function(e){C(e.target.value)},children:[Object(k.jsx)(y,{}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please choose genre."})]})})]}),Object(k.jsxs)(x.a.Group,{as:m.a,controlId:"ISBN",children:[Object(k.jsx)(x.a.Label,{column:!0,sm:2,children:"International Standard Book Number"}),Object(k.jsx)(h.a,{sm:10,children:Object(k.jsxs)(p.a,{hasValidation:!0,children:[Object(k.jsx)(p.a.Prepend,{children:Object(k.jsx)(p.a.Text,{id:"basic-addon3",children:"ISBN"})}),Object(k.jsx)(x.a.Control,{type:"text",pattern:"\\d*",maxLength:"13",minLength:"13",value:E,required:!0,onChange:function(e){return A(e.target.value)},placeholder:"Enter here international Standard Book Number"}),Object(k.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter ISBN (13 digits)."})]})})]}),Object(k.jsx)(x.a.Group,{as:m.a,children:Object(k.jsx)(h.a,{sm:{span:10,offset:2},children:Object(k.jsx)(u.a,{type:"submit",size:"lg",block:!0,children:F?"Save as #".concat(t.params.id):"Add a Book"})})})]})})]})]})]})}n(72);var w=n(77),B=n(78),C=n(79);function I(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],l=s[1];Object(a.useEffect)((function(){b.a.get("http://localhost:3010/books").then((function(e){r(e.data),console.log("Data loaded successfully")})).catch((function(e){return alert(e)}))}),[i]);var d=function(e){console.log(e);var t=e.target.id;window.confirm("You realy want to delete book with index ".concat(t,"?"))&&b.a.delete("http://localhost:3010/books/".concat(t)).then((function(e){return alert("Book deleted successfully")})).catch((function(e){return alert("Error: \t ".concat(e))})),l(!i)},x=c.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.id}),Object(k.jsx)("td",{children:e.book_name}),Object(k.jsx)("td",{children:e.author_name}),Object(k.jsx)("td",{children:e.category}),Object(k.jsx)("td",{children:e.ISBN}),Object(k.jsx)("td",{children:Object(k.jsxs)(w.a,{children:[Object(k.jsx)(f.b,{to:{pathname:"/book/".concat(e.id)},children:Object(k.jsx)(u.a,{variant:"warning",children:"Edit"})}),Object(k.jsx)(u.a,{variant:"outline-danger",size:"sm",id:e.id,onClick:d,children:"Delete"})]})})]},e.id)}));return Object(k.jsxs)("div",{children:[Object(k.jsxs)(B.a,{children:[Object(k.jsxs)(h.a,{xl:5,children:[Object(k.jsx)("h1",{children:document.title}),Object(k.jsx)("p",{children:"Here you can add books to your list, remove, or edit them"})]}),Object(k.jsx)(h.a,{xl:3,children:Object(k.jsx)(f.b,{to:"/book",children:Object(k.jsx)(u.a,{variant:"outline-primary",size:"sm",children:"Add Book >"})})})]}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(k.jsx)("thead",{variant:"dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:"Book title"}),Object(k.jsx)("th",{children:"Author name"}),Object(k.jsx)("th",{children:"Category"}),Object(k.jsx)("th",{children:"ISBN"}),Object(k.jsx)("th",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:x})]})})]})}var N=n(6);var E=function(){return Object(k.jsx)(f.a,{children:Object(k.jsxs)(N.c,{children:[Object(k.jsx)(N.a,{exact:!0,path:"/",component:Object(N.f)(I)}),Object(k.jsx)(N.a,{exact:!0,path:"/book",component:Object(N.f)(S)}),Object(k.jsx)(N.a,{exact:!0,path:"/book/:id",component:Object(N.f)(S)})]})})};o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(E,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.1b730cc0.chunk.js.map